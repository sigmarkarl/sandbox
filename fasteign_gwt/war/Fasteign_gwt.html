<!doctype html>
<!-- The DOCTYPE declaration above will set the    -->
<!-- browser's rendering engine into               -->
<!-- "Standards Mode". Replacing this declaration  -->
<!-- with a "Quirks Mode" doctype may lead to some -->
<!-- differences in layout.                        -->

<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

    <!--                                                               -->
    <!-- Consider inlining CSS to reduce the number of requested files -->
    <!--                                                               -->
    <link type="text/css" rel="stylesheet" href="Fasteign_gwt.css">

    <!--                                           -->
    <!-- Any title is fine                         -->
    <!--                                           -->
    <title>Fasteignaverð</title>
    <meta property="fb:app_id" content="126393507416381" />
    <meta property="og:title" content="Fasteignaverð" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="http://fasteignaverd.appspot.com/fasteignaverd/" />
    <meta property="og:image" content="http://fasteignaverd.appspot.com/ndb.png" />
    
    <!--                                           -->
    <!-- This script loads your compiled module.   -->
    <!-- If you add any GWT meta tags, they must   -->
    <!-- be added before this line.                -->
    <!--                                           -->
    <script type="text/javascript" language="javascript" src="http://www.java.com/js/deployJava.js"></script>
    <script type="text/javascript" language="javascript" src="fasteign_gwt/fasteign_gwt.nocache.js"></script>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-18951091-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

	</script>
	<script type="text/javascript">
	  var map;
	  var markersArray = [];
	  var geocoder;
	  
	  function initialize() {
		geocoder = new google.maps.Geocoder();
	    var latlng = new google.maps.LatLng(-34.397, 150.644);
	    var myOptions = {
	      zoom: 2,
	      center: latlng,
	      mapTypeId: google.maps.MapTypeId.ROADMAP
	    };
	    map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
	  }
	  
	  function area( str, lat, lng, contentString ) {
		  var pos = new google.maps.LatLng( lat, lng );
		  var circleOpts = {
		    	center: pos,
		    	map: map,
		    	radius: 100000,
		    	strokeWeight: 0
		  };
		  var circle = new google.maps.Circle( circleOpts );
		  
		  var infowindow = new google.maps.InfoWindow({
			    content: contentString
		  });
		  
		  google.maps.event.addListener(circle, 'click', function() {
			  infowindow.open(map,circle);
		  });
	  }
	  
	  function pos( str, lat, lng, contentString, imurl ) {
		  var pos = new google.maps.LatLng( lat, lng );
		  var markerOpts = {
				title: str,
		    	position: pos,
		    	map: map,
		    	icon: imurl
		  };
		  var marker = new google.maps.Marker( markerOpts );
		  markersArray.push( marker );
		  
		  var infowindow = new google.maps.InfoWindow({
			    content: contentString
		  });
		  
		  google.maps.event.addListener(marker, 'click', function() {
			  infowindow.open(map,marker);
		  });
	  }
	  
	  function setCenter( address ) {
		  for (i in markersArray) {
			  var marker = markersArray[i];
			  console.log(address + " " + marker.getTitle());
			  if( address == marker.getTitle() ) {
				  map.setCenter(marker.getPosition());
				  break;
			  }
		  }
	  }
	  
	  function codeAddress( address ) {
		    //var address = document.getElementById("address").value;
		    geocoder.geocode( { 'address': address}, function(results, status) {
		      if (status == google.maps.GeocoderStatus.OK) {
		        map.setCenter(results[0].geometry.location);
		        var marker = new google.maps.Marker({
		        	title: address,
		            map: map, 
		            position: results[0].geometry.location
		        });
		        markersArray.push( marker );
		        
		        google.maps.event.addListener(marker, 'click', function() {
		  		  document.getElementById('fasteign').select( address );
		  	  	});
		      } else {
		        //alert("Geocode was not successful for the following reason: " + status);
		      }
		    });
	  }
	  
	  function clearMarkers() {
		  for (i in markersArray) {
		      markersArray[i].setMap(null);
		  }
		  markersArray = [];
	  }
	</script>
  </head>

  <!--                                           -->
  <!-- The body can have arbitrary html, or      -->
  <!-- you can leave the body empty if you want  -->
  <!-- to create a completely dynamic UI.        -->
  <!--                                           -->
  <body onload="initialize()">
	<div id="fb-root"></div>
	<script src="http://connect.facebook.net/en_US/all.js"></script>
	<script>
	  FB.init({
	    appId  : '126393507416381',
	    status : false, // check login status
	    cookie : false, // enable cookies to allow the server to access the session
	    xfbml  : true  // parse XFBML
	  });
	</script>
	
    <!-- OPTIONAL: include this if you want history support -->
    <iframe src="javascript:''" id="__gwt_historyFrame" tabIndex='-1' style="position:absolute;width:0;height:0;border:0"></iframe>
    
    <!-- RECOMMENDED if your web app will not function without JavaScript enabled -->
    <noscript>
      <div style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
        Your web browser must have JavaScript enabled
        in order for this application to display correctly.
      </div>
    </noscript>
    
    <h1>Hvað á fasteignin að kosta?</h1>
    <center>
    Forritið safnar upplýsingum um fasteignir á svipuðum stað og af svipaðri stærð og fasteignin þín.<br>Notaðu svo miðgildið eða meðaltalið af verði/fasteignamat (eða annað sem hentar betur, t.d. fermetraverð)<br>Tvíklikkaðu á íbúðir til að skoða nánar í vafra. Hægt er að raða íbúðunum með því að smella á dálkanöfnin<br>Einnig er hægt að henda út íbúðum úr meðaltalinu með því að hægriklikka og velja henda
    <div id="fastdiv" tyle="text-align:center">
    <script type="text/javascript" language="javascript">
    	var attributes = { codebase:'http://dl.dropbox.com/u/10040394/', archive:'fasteign.jar,poi/poi-3.7-20101029.jar,poi/poi-ooxml-3.7-20101029.jar,poi/poi-ooxml-schemas-3.7-20101029.jar,poi/xmlbeans-2.3.0.jar,poi/dom4j-1.6.1.jar,poi/geronimo-stax-api_1.0_spec-1.0.jar', code:'org.simmi.Fasteign', width:'1200', height:'600', id:'fasteign', name:'fasteign' };
        var parameters = { jnlp_href:'fasteign.jnlp' };
       deployJava.runApplet(attributes, parameters, '1.6')
    </script>
    
    <p>
    <div id="map_canvas" style="width:512px; height:512px"></div>
    </p>
    
    </div>
	<div id="auglysing" style="text-align:center">
	<a href="mailto:huldaeggerts@gmail.com">huldaeggerts@gmail.com</a> | More apps: <a href="http://webspectroscope.appspot.com">http://webspectroscope.appspot.com</a> <br>
	<a href="http://websimlab.appspot.com">http://websimlab.appspot.com</a> | <a href="http://nutritiondb.appspot.com">http://nutritiondb.appspot.com</a> | <a href="http://webnavision.appspot.com">http://webnavision.appspot.com</a>
	<center>
	<table style="margin-left:auto;margin-right:auto;margin:25px;text-align:center">
	<tr><td>
	<fb:like href="http://fasteignaverd.appspot.com/" width="250" height="80"/>
    </td><td>
    <form action="https://www.paypal.com/cgi-bin/webscr" method="post">
	<input type="hidden" name="cmd" value="_s-xclick">
	<input type="hidden" name="hosted_button_id" value="7MQHN385ZR89W">
	<input type="image" src="https://www.paypal.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
	<img alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1">
	</form>
	</td></tr>
	</table>
	</center>
	<script type="text/javascript">
	ch_client = "sigmarkarl";
	ch_width = 728;
	ch_height = 90;
	ch_type = "mpu";
	ch_sid = "Chitika Default";
	ch_backfill = 1;
	ch_color_site_link = "#0000CC";
	ch_color_title = "#0000CC";
	ch_color_border = "#FFFFFF";
	ch_color_text = "#000000";
	ch_color_bg = "#FFFFFF";
	</script>
	<script src="http://scripts.chitika.net/eminimalls/amm.js" type="text/javascript"></script>
	</div>
	</center>
  </body>
</html>
